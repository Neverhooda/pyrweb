
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <!--<link rel="icon" href="../../favicon.ico">-->

    <title>Cover Template for Bootstrap</title>
    <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/cover/">

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/cover.css" rel="stylesheet">

  <body>

    <div class="site-wrapper">

      <div class="site-wrapper-inner">

        <div class="cover-container">

          <div class="masthead clearfix">
            <div class="inner">
              <h3 class="masthead-brand">Poor Yorick</h3>
              <nav class="nav nav-masthead">
                <a class="nav-link active" href="#">Home</a>
                <a class="nav-link" href="#">Features</a>
                <a class="nav-link" href="#">Contact</a>
              </nav>
            </div>
          </div>
          <div class="inner cover">
            <h1 class="cover-heading">Poor Yorick!!! Have Fun!!!</h1>
            <p class="lead">To play a random composition click on the button</p>
            <p class="lead">
              <a href="#" class="btn btn-lg btn-secondary"  onclick="myFunction()">Play Random</a>
            </p>
          </div>
        </div>
        <hr>
        <h1 class="cover-heading">You Can!!! Download File!!!</h1>
        <div class="cover-container">
          <form method="post" action="upload" enctype="multipart/form-data">
              <input type="file" name="ufile" />
              <input type="submit" class="btn btn-dark" />
          </form>
        </div>
        <hr>
        <h1 class="cover-heading">You Can!!! PICK A FILE MP#!!!</h1>
        <div class="cover-container">
        <form method="post" action="play_song">
          <div class="col-auto my-1">
            <label class="mr-sm-2" for="inlineFormCustomSelect">Preference</label>
            <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" name="select_song">
              <option selected>Choose... You destiny!</option>
            </select>
          </div>
          <div class="col-auto my-1">
            <button type="submit" class="btn btn-danger">Submit</button>
          </div>
      </form>
        </div>
        <div class="cover-container">
          <div class="mastfoot">
            <div class="inner">
              <p>Yorick Have Fun Inc <a href="https://yorick.com">don't click</a>, by <a href="https://yorick.com/">@yorick</a>.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>

      if (document.readyState === 'complete') {
        getData();
      }


      function myFunction() {
        var http = new XMLHttpRequest();
        var url = 'play_random';
        // var params = 'orem=ipsum&name=binny';
        http.open('POST', url, true);

        //Send the proper header information along with the request
        http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

        http.onreadystatechange = function() {//Call a function when the state changes.
            if(http.readyState == 4 && http.status == 200) {
                console.log(http.responseText);
            }
        }
        http.send();
      }

      function getData() {
        var http = new XMLHttpRequest();
        var url = 'list';
        // var params = 'orem=ipsum&name=binny';
        http.open('POST', url, true);

        //Send the proper header information along with the request
        http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

        http.onreadystatechange = function() {//Call a function when the state changes.
            if(http.readyState == 4 && http.status == 200) {
                console.log(http.responseText);
                updateSelect(JSON.parse(http.responseText))
            }
        }
        http.send();
      }

      function updateSelect(list_mp3) {
        select = document.getElementById('inlineFormCustomSelect');
        for (var i = 0; i < list_mp3.length; i++) {
          var opt = document.createElement('option');
          opt.value = list_mp3[i];
          opt.innerHTML = list_mp3[i];
          select.appendChild(opt);
        }
      }

      window.onload = getData;

    </script>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
    <!--<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <!--<script src="../../dist/js/bootstrap.min.js"></script>-->
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!--<script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>-->
  </body>
</html>
